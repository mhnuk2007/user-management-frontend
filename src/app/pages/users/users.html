<div class="container mx-auto p-4 sm:p-6 lg:p-8">

  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6">
    <h1 class="text-2xl sm:text-3xl font-bold text-gray-800">
      User Management
    </h1>
    <button 
      class="mt-3 sm:mt-0 px-4 py-2 bg-blue-600 text-white rounded-lg shadow-md
             hover:bg-blue-700 focus:outline-none focus:ring-2
             focus:ring-blue-500 focus:ring-opacity-75 transition-colors">
      Add User
    </button>
  </div>

  <div class="bg-white rounded-lg shadow-md overflow-hidden">
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">

        <thead class="bg-gray-50">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Name</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Email</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Role</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Created At</th>
            <th class="px-6 py-3"></th>
          </tr>
        </thead>

        <tbody class="bg-white divide-y divide-gray-200">

          @for (user of users(); track user.id) {
            <tr class="hover:bg-gray-50">
              <td class="px-6 py-4 text-sm font-medium text-gray-900">
                {{ user.name }}
              </td>

              <td class="px-6 py-4 text-sm text-gray-600">
                {{ user.email }}
              </td>

              <td class="px-6 py-4">
                @if (user.role === 'ADMIN') {
                  <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">
                    Admin
                  </span>
                } @else {
                  <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                    User
                  </span>
                }
              </td>

              <td class="px-6 py-4">
                @if (user.active) {
                  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    <svg class="mr-1.5 h-2 w-2 text-green-400" fill="currentColor" viewBox="0 0 8 8">
                      <circle cx="4" cy="4" r="3" />
                    </svg>
                    Active
                  </span>
                } @else {
                  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                     <svg class="mr-1.5 h-2 w-2 text-red-400" fill="currentColor" viewBox="0 0 8 8">
                      <circle cx="4" cy="4" r="3" />
                    </svg>
                    Inactive
                  </span>
                }
              </td>

              <td class="px-6 py-4 text-sm text-gray-600">
                {{ user.createdAt | date:'medium' }}
              </td>

              <td class="px-6 py-4 text-right text-sm">
                <a href="#" class="text-indigo-600 hover:text-indigo-900">Edit</a>
                <a href="#" class="ml-4 text-red-600 hover:text-red-900">Delete</a>
              </td>
            </tr>
          } @empty {
            <tr>
              <td colspan="6" class="py-10 text-center">
                  <div class="text-gray-500">
                    <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                      <path vector-effect="non-scaling-stroke" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z" />
                    </svg>
                    <h3 class="mt-2 text-sm font-medium text-gray-900">No users found</h3>
                    <p class="mt-1 text-sm text-gray-500">Get started by adding a new user.</p>
                  </div>
              </td>
            </tr>
          }

        </tbody>
      </table>
    </div>
  </div>
</div>
